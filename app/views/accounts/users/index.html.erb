<div class="color-bg-surface-default border-2 color-border-default rounded mx-8 mb-8 mt-4">
  <header class="border-b-2 border-neutral-100 flex items-center justify-end gap-2 p-4 sticky top-0 color-bg-surface-default z-20">
    <%= render '/components/form/input_expandable_search',
               search_url: account_users_path(Current.account),
               turbo_frame_search: :users_table,
               placeholder: t('activerecord.models.search', model: @users.model_name.human) %>
    <%= link_to new_account_user_path(Current.account), class: 'button-default-blank-secondary-icon-only-sm' do %>
      <i data-lucide="plus" class='h-4 w-4'></i>
    <% end %>
  </header>
  <%= turbo_frame_tag :users_table do %>
    <div class="overflow-x-auto">
      <table class="w-full text-left rtl:text-right min-w-[1700px]">
        <thead class="border-b color-border-default">
          <tr>
            <th scope="col" class="py-3 pl-4 pr-4 w-[52px]"></th>
            <th scope="col" class="pr-4 py-3 typography-sub-title-900 color-fg-default max-w-[243px]">
              <%= User.human_attribute_name(:full_name) %>
            </th>
            <th scope="col" class="pr-4 py-3 typography-sub-title-900 color-fg-default max-w-[204px]">
              <%= User.human_attribute_name(:email) %>
            </th>
            <th scope="col" class="pr-4 py-3 typography-sub-title-900 color-fg-default max-w-[204px]">
              <%= User.human_attribute_name(:phone) %>
            </th>
            <th scope="col" class="pr-4 py-3 typography-sub-title-900 color-fg-default max-w-[149px]">
              <%= User.human_attribute_name(:created_at) %>
            </th>
            <th scope="col" class="pr-4 py-3 typography-sub-title-900 color-fg-default max-w-[150px]">
              <%= User.human_attribute_name(:updated_at) %>
            </th>
            <th scope="col" class="py-3 pl-4 pr-4 sticky right-0 color-bg-surface-default z-10 w-[50px]"></th>
          </tr>
        </thead>
        <tbody class="w-full" id=<%= dom_id(User, :users__index) %>>
          <%= render partial: '/accounts/users/user', collection: @users, as: :user %>
        </tbody>
      </table>
    </div>
    <div class="sticky bottom-0 color-bg-surface-default z-10 py-2 px-4 border-t-2 color-border-default">
      <div class="flex justify-end">
        <%== pagy_nav(@pagy) %>
      </div>
    </div>
  <% end %>
</div>
