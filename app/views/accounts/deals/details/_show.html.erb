<%= turbo_frame_tag "form_#{model.class.name.downcase}_#{model.id}" do %>
  <div class="flex items-center py-4 justify-between">
    <div class="flex items-center gap-2 text-dark-gray-palette-p1">
      <i data-lucide=<%= model.class.name.downcase == 'contact' ? 'phone' : 'info' %> class='w-5 h-5 stroke-1.04'></i>
      <p class="typography-body-s-lh150 ">
        <%= t("activerecord.models.#{model.class.name.downcase}.one") %>
      </p>
    </div>
    <div class='flex gap-2'>
      <%= link_to edit_path, class: 'button-default-blank-secondary-icon-only-sm' do %>
        <i data-lucide="pencil"></i>
      <% end %>
      <button type="button" class="button-default-blank-secondary-icon-only-sm" data-accordion-target="#accordion-collapse-<%= "#{model.class.name.downcase}_#{model.id}"%>" aria-expanded="true" aria-controls="accordion-collapse-<%= "#{model.class.name.downcase}_#{model.id}"%> ">
        <i data-accordion-icon data-lucide="chevron-down" class="rotate-180 shrink-0" height="16"></i>
      </button>
    </div>
  </div>
  <div id="accordion-collapse-<%= "#{model.class.name.downcase}_#{model.id}"%>" class="hidden grid sm:grid-cols-2 gap-4 pb-4" aria-labelledby="accordion-collapse-heading-<%= "#{model.class.name.downcase}_#{model.id}"%>">
    <% model.class::FORM_FIELDS.each do | f | %>
      <% if model.send(f).present? %>
        <div class="flex flex-col col-span-full">
          <label class="typography-text-s-lh150 text-gray-pallete-p3">
            <%= model.class.human_attribute_name(f) %>
          </label>
          <% if f.in?([:label_list, :chatwoot_conversations_label_list]) %>
            <%= render 'components/list_labels', labels: model.send(f), max_width: '100%', justify_content: 'start' %>
          <% elsif f == :creator %>
            <p class="typography-sub-text-m-lh150 text-dark-gray-palette-p1">
              <%= model.creator.full_name %>
            </p>
          <% elsif f == :total_amount_in_cents %>
            <p class="typography-sub-text-m-lh150 text-dark-gray-palette-p1 stream_deal_total_amount_in_cents">
              <%= model.total_amount_in_cents_at_format %>
            </p>
          <% else %>
            <p class="typography-sub-text-m-lh150 text-dark-gray-palette-p1">
              <%= model["#{f}"] %>
            </p>
          <% end %>
        </div>
      <% end %>
    <% end %>
    <%= render 'accounts/deals/details/show_custom_attributes', model: model %>
  </div>
<% end %>
