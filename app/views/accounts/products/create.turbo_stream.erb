<%= turbo_stream.replace :drawer do %>
  <%= turbo_frame_tag :drawer %>
<% end %>
<%= turbo_stream.replace :flash_message do %>
  <%= render partial: 'components/flash_message', locals: { message: t('flash_messages.created', model: Product.model_name.human) } %>
<% end %>
<%= turbo_stream.append :products, @product %>
<%
  select_search_forms = [
    { hidden_field_name: 'deal_product[product_id]' }
  ]
%>
<% select_search_forms.each do |select_search| %>
  <% hidden_field_class_name = ".#{select_search[:hidden_field_name].tr('[]', '_').chomp('_')}" %>
  <%= turbo_stream.replace_all hidden_field_class_name do %>
    <%= render 'components/select_search/hidden_field',
               hidden_field_name: select_search[:hidden_field_name],
               hidden_field_value: @product.id %>
  <% end %>
<% end %>
<%= turbo_stream.update_all '.product_select_search_display_name' do %>
  <%= @product.name %>
<% end %>
<%= turbo_stream.replace_all ".#{@product.model_name.element}-select-search-submit-button" do %>
  <input type="submit"
       value="<%= t('activerecord.models.product.add') %>"
       class="<%= @product.model_name.element %>-select-search-submit-button text-brand-palette-03 py-2 px-4 cursor-pointer border-[1.5px] border-[#e5e7eb00] hover:border-brand-palette-06 hover:border-[1.5px] hover:bg-brand-palette-08 hover:rounded-md hover:text-brand-palette-03 transtion ease-in-out delay-250 typography-text-s-lh150" />
<% end %>
